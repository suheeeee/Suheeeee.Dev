---
title: "ë‘ë”” : ë‘ê·¼ë‘ê·¼ ë°ì´í„°ë² ì´ìŠ¤ ì…ë¬¸ #1-ì‹¤ìŠµ"
date: "2021-11-01T13:10:32.169Z"
template: "post"
draft: true
slug: "aiffel-db-1-4"
category: "Database"
tags:
  - "Database"
  - "í¼ì‹¤ì˜ ì‚¶"
description: "ğ•–ğ•©ğ•–ğ•£ğ•”ğ•šğ•¤ğ•– ğŸ”¥ AIFFEL ê°•ë‚¨ 2ê¸° ìº í¼ìŠ¤ì˜ í’€ììŠ¤ì¿¨ [ë‘ë”” : ë‘ê·¼ë‘ê·¼ ë°ì´í„°ë² ì´ìŠ¤ ì…ë¬¸]ì—ì„œ ì‚¬ìš©ëœ ìë£Œì…ë‹ˆë‹¤."
---

# ì‹¤ìŠµ 1 : Class Diagram

ğŸ‘©â€ğŸ’» ì‘ì„±ì : ì •ìˆ˜í¬ @Suhee Jung<br>

---

### (ì‹¤ìŠµ 1-1) ì£¼ì–´ì§„ Class Diagramì„ í•´ì„í•˜ì—¬ ë³´ì
![Untitled](./assets/01-4-1.png)

> ğŸ‘€ ìœ„ì˜ Class Diagramì—ì„œ í‘œí˜„ë˜ê³  ìˆëŠ” Relationship ì¤‘ 5ê°€ì§€ë¥¼ ì„ íƒí•˜ì—¬ ì„¤ëª…í•˜ì—¬ ì£¼ì„¸ìš”.

<details><summary>ğŸ§</summary>
<p>

 ![Untitled](./assets/01-4-2.png)

1. ATMê³¼ BankëŠ” `maintains` ê´€ê³„ê°€ ìˆê³ , ì„œë¡œì—ê²Œ ìœ ì¼í•©ë‹ˆë‹¤.
    - BankëŠ” ATMì„ ìœ ì§€í•˜ë©°, í•˜ë‚˜ì˜ ì€í–‰ì€ í•˜ë‚˜ì˜ ATMì„ ë³´ìœ í•˜ê³  ìˆìŠµë‹ˆë‹¤.
    - í˜„ì‹¤ì„¸ê³„ì—ëŠ” ìˆì„ ìˆ˜ ì—†ëŠ” ì¼ì´ë„¤ìš”ğŸ¤”

2. ATMê³¼ ATM Transactionì€ `identifies` ê´€ê³„ë¥¼ ê°€ì§‘ë‹ˆë‹¤. ì´ë•Œ, ATM Transactionì€ í•˜ë‚˜ì˜ ATMê³¼ `identifies` ê´€ê³„ë¥¼ ê°€ì§€ë©°, ATMì€ ë‹¤ìˆ˜(0~many)ì˜ ATM Transactionê³¼ `identifies` ê´€ê³„ë¥¼ ê°€ì§‘ë‹ˆë‹¤.
    - ATMê³¼ ATM Transaction(ATMì—ì„œ ë°œìƒí•œ ê±°ë˜)ëŠ” ì„œë¡œë¥¼ ì‹ë³„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    - ATMì—ì„œëŠ” ë‹¤ìˆ˜ì˜ ê±°ë˜ê°€ ë°œìƒí•  ìˆ˜ ìˆê³ , ê±°ë˜ì—ëŠ” ì˜¤ì§ í•˜ë‚˜ì˜ ATMì´ ê´€ì—¬í•©ë‹ˆë‹¤.

 3. Withdrawl transactionê³¼ Transfer Transactionì€ ATM Transactionì˜ í•œ ì¢…ë¥˜ì…ë‹ˆë‹¤.
    - ê±°ë˜ì˜ ì¢…ë¥˜ì—ëŠ” ì¶œê¸ˆê³¼ ì†¡ê¸ˆì´ ìˆìŠµë‹ˆë‹¤.

4. ATM Transactionì€ í•˜ë‚˜ì˜ Accountë¥¼ ì°¸ì¡°í•©ë‹ˆë‹¤.
    - ATMì—ì„œ í•œë²ˆì˜ ê±°ë˜ëŠ” í•˜ë‚˜ì˜ ê³„ì¢Œì— ëŒ€í•´ì„œë§Œ ë°œìƒí•©ë‹ˆë‹¤.

5. Saving Accountì™€ Checking Accountì€ Accountì˜ í•œ ì¢…ë¥˜ì…ë‹ˆë‹¤.
    - ê³„ì¢Œì˜ ì¢…ë¥˜ì—ëŠ” Saving Accountì™€ Checking Accountê°€ ìˆìŠµë‹ˆë‹¤.
    - [https://blog.naver.com/jaypomfret1/220391596590](https://blog.naver.com/jaypomfret1/220391596590)

6. Accountì™€ CustomerëŠ” `owns` ê´€ê³„ë¥¼ ë§ºê³  ìˆìœ¼ë©° ì„œë¡œë¥¼ ë‹¤ìˆ˜ ì°¸ì¡°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    - í•œ ëª…ì˜ ê³ ê°ì€ í•˜ë‚˜ ì´ìƒì˜ ê³„ì¢Œë¥¼ ê°€ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    - ê³„ì¢Œë¥¼ ê°œì„¤í•´ì•¼ë§Œ ê³ ê°ì´ë¼ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    - í•˜ë‚˜ì˜ ê³„ì¢Œë¥¼ ì—¬ëŸ¬ëª…ì˜ ê³ ê°ì— ì˜í•´ ì†Œìœ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê³µë™ëª…ì˜ ê³„ì¢Œë¥¼ ì˜ë¯¸í•˜ëŠ” ë“¯ í•©ë‹ˆë‹¤ğŸ¤”

7. Debit Cardì™€ CustomerëŠ” `owns` ê´€ê³„ë¥¼ ë§ºê³  ìˆìŠµë‹ˆë‹¤. Debit CardëŠ” `owns` ê´€ê³„ë¥¼ ê°€ì§€ëŠ” Customerê°€ ì—†ì„ ìˆ˜ë„ ìˆê³  ë‹¤ìˆ˜ì¼ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. CustomerëŠ” `owns` ê´€ê³„ì— ìˆëŠ” Debit Cardê°€ í•˜ë‚˜ ì´ìƒì…ë‹ˆë‹¤.
    - í•œëª…ì˜ ê³ ê°ì€ í•˜ë‚˜ ì´ìƒì˜ ì§ë¶ˆì¹´ë“œë¥¼ ê°€ì§‘ë‹ˆë‹¤.
    - ì§ë¶ˆì¹´ë“œëŠ” ì†Œìœ ìê°€ ìˆì„ ìˆ˜ë„ ìˆê³  ë‹¤ìˆ˜ì¼ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. ì£¼ì¸ì—†ëŠ” ì¹´ë“œê°€ ìˆì„ ìˆ˜ ìˆë‹¤ëŠ” ì˜ë¯¸ì¸ë°, ì„¤ê³„ê°€ ì˜ëª»ëœ ê²ƒì´ì§€ ì•Šì„ê¹Œ í•©ë‹ˆë‹¤ğŸ¤”

8. Debit Cardì™€ AccountëŠ” `provides access to` ê´€ê³„ì— ìˆìŠµë‹ˆë‹¤. Debit CardëŠ” `provides access to` ê´€ê³„ë¥¼ ê°€ì§€ëŠ” Accountë¥¼ í•˜ë‚˜ ì´ìƒê°€ì§€ê³ , AccountëŠ” `provides access to` ê´€ê³„ë¥¼ ê°€ì§€ëŠ” Debit Cardê°€ ì—†ì„ ìˆ˜ë„ ìˆê³  ë‹¤ìˆ˜ì¼ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.
    - ì§ë¶ˆì¹´ë“œë¥¼ ì´ìš©í•˜ë©´ ê³„ì¢Œì— ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    - ê³„ì¢ŒëŠ” ì—°ê²°ëœ ì§ë¶ˆì¹´ë“œê°€ ì—†ì„ ìˆ˜ë„ ìˆê³  ë‹¤ìˆ˜ì¼ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.
    - ì§ë¶ˆì¹´ë“œëŠ” ì—°ê²°ëœ ê³„ì¢Œê°€ í•˜ë‚˜ ì´ìƒì…ë‹ˆë‹¤. ì´ê²ƒë„ ì¢€ ì´ìƒí•˜ë„¤ìš”ğŸ¤”

9. Bankì™€ CustomerëŠ” `has` ê´€ê³„ì— ìˆìŠµë‹ˆë‹¤. BankëŠ” í•˜ë‚˜ ì´ìƒì˜ Customerê³¼ `has` ê´€ê³„ë¥¼ ê°€ì§€ê³ , CustomerëŠ” í•˜ë‚˜ì˜ Bankì™€ `has` ê´€ê³„ë¥¼ ê°€ì§‘ë‹ˆë‹¤.
    - BankëŠ” í•œëª… ì´ìƒì˜ ê³ ê°ì„ ìœ ì¹˜í•˜ê³  ìˆìŠµë‹ˆë‹¤.
    - ê³ ê°ì€ í•˜ë‚˜ì˜ ì€í–‰ë§Œì„ ì´ìš©í•©ë‹ˆë‹¤. ê³ ê° ì¶©ì„±ë„ê°€ ë§¤ìš° ë†’ì€ ì„¸ê³„ê´€ ì…ë‹ˆë‹¤ğŸ¤”

10. Bankì™€ Debit CardëŠ” `manages` ê´€ê³„ì— ìˆìŠµë‹ˆë‹¤. BankëŠ” í•˜ë‚˜ ì´ìƒì˜ Debit Cardì™€ `manages` ê´€ê³„ì— ìˆê³ , Debit CardëŠ” í•˜ë‚˜ì˜ Bankì™€ `manages` ê´€ê³„ì— ìˆìŠµë‹ˆë‹¤.
    - ì€í–‰ì€ ì§ë¶ˆì¹´ë“œë¥¼ ê´€ë¦¬í•˜ë©°, ë‹¤ìˆ˜ì˜ ì¹´ë“œë¥¼ ë™ì‹œì— ê´€ë¦¬í•˜ê³  ìˆìŠµë‹ˆë‹¤.
    - ì§ë¶ˆì¹´ë“œëŠ” í•˜ë‚˜ì˜ ì€í–‰ì— ì˜í•´ ê´€ë¦¬ë˜ê³  ìˆìŠµë‹ˆë‹¤.
    </p>
    </details>


### (ì‹¤ìŠµ 1-2) ì£¼ì–´ì§„ ìƒí™©ì„ ë³´ê³  Class Diagramì„ ì‘ì„±í•˜ì—¬ ë³´ì.
> Design a database suitable for a university registrar. This database should include information about students, departments, professors, courses, which students are enrolled in which courses, which professors are teaching which courses, student grades, the TA for a course (TAâ€™s are students), which courses a department offers, and any other information you deem appropriate. Note that this question is more free-form than the questions above, and you need to *make some decisions about multiplicities of relationships, appropriate types, and even what information needs to be represented.*

ë¬¸ì œ ì¶œì²˜ : A First Course in Database Systems

> ğŸ‘€ ìœ„ì˜ ì§€ë¬¸ì„ ë°”íƒ•ìœ¼ë¡œ ì ì ˆí•œ Class Digramì˜ ì‘ì„±í•˜ì—¬ ì£¼ì„¸ìš”. ì‘ì„± ë°©ì‹ì€ ì¢…ì´ì— ê·¸ë ¤ì„œ ì‚¬ì§„ì„ ì°ì–´ ì˜¬ë ¤ì£¼ì…”ë„ ë˜ê³  toolì„ ì‚¬ìš©í•˜ì—¬ ì»´í“¨í„°ë¡œ ì‘ì„±í•˜ì—¬ ì£¼ì…”ë„ ë©ë‹ˆë‹¤. ì»´í“¨í„° í™˜ê²½ì—ì„œ ì‘ì„±ì„ ì›í•˜ì‹œëŠ” ê²½ìš°, draw.io, gitmind, starUML ì¤‘ í•˜ë‚˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤.

<details><summary>ğŸ§</summary>
<p>

1. ì§€ë¬¸ ë¶„ì„
   1. í´ë˜ìŠ¤
      - student
        - student grades
      - department
      - professor
      - course
   2. ê´€ê³„
      - students are enrolled in which courses
        - student classì™€ course class ì‚¬ì´ì—ëŠ” enrolled ê´€ê³„ê°€ ì¡´ì¬
        - multiplicity : í•™ìƒë“¤ì„ ì½”ìŠ¤ë“¤ì— ì°¸ì—¬ â†’ *, *
      - which professors are teaching which courses
        - professor classì™€ course class ì‚¬ì´ì—ëŠ” teaching ê´€ê³„ê°€ ì¡´ì¬
        - multiplicity : êµìˆ˜ëŠ” ì½”ìŠ¤ë“¤ì„ ê°€ë¥´ì¹¨ â†’ *, 1
      - TA for a course (TAâ€™s are students)
        - student classì™€ course class ì‚¬ì´ì— TA ê´€ê³„ê°€ ì¡´ì¬
        - multiplicity : í•˜ë‚˜ì˜ ê°•ì˜ì—ì„œëŠ” í•˜ë‚˜ì˜ TAê°€ ì¡´ì¬ â†’ 1, *
      - which courses a department offers
        - course classì™€ department class ì‚¬ì´ì—ëŠ” offer ê´€ê³„ê°€ ì¡´ì¬
        - multiplicity : í•˜ë‚˜ì˜ í•™ê³¼ì—ì„œ ì—¬ëŸ¬ê°œì˜ ê°•ì˜ë¥¼ ì œê³µí•˜ì§€ë§Œ, í•˜ë‚˜ì˜ ê°•ì˜ëŠ” í•˜ë‚˜ì˜ í•™ê³¼ì— ì¢…ì†ëœë‹¤ â†’ 1, *
2. ì¶”ê°€ì‚¬í•­
    - classë³„ PK ì¶”ê°€
    - multiplicityì— í˜„ì‹¤ì„±ì„ ë”í•˜ê¸°
    - courseê°€ íê°•ë˜ì§€ ì•Šìœ¼ë ¤ë©´ ì ì–´ë„ 10ëª…ì˜ í•™ìƒì´ í•„ìš”í•˜ë‹¤.
    - í•™ìƒì€ ì…í•™ í›„ ìµœì´ˆì˜ í•™ê¸°ì— ì ì–´ë„ 3ê³¼ëª©ì„ ìˆ˜ê°•í•´ì•¼ í•œë‹¤.
    - êµìˆ˜ëŠ” ì ì–´ë„ í•˜ë‚˜ì˜ ê³¼ëª©ì„ ê°€ë¥´ì¹œ ê²½í—˜ì´ ìˆë‹¤.
    - í•™ìƒê³¼ í•™ë¶€ ì‚¬ì´ì— `major` ê´€ê³„ ì¶”ê°€
3. ë‹¤ì´ì–´ê·¸ë¨ ì‘ì„±
    ![Untitled](./assets/01-4-3.png)
    </p>
    </details>


### (ì‹¤ìŠµ 1-3) ì£¼ì–´ì§„ Class Diagramì„ pythonì˜ Classë¡œ ì‘ì„±í•˜ì—¬ ë³´ì.
> ğŸ‘€ (ì‹¤ìŠµ 1-2)ì—ì„œ ì‘ì„±í•œ Class Diagramì„ pythonì˜ Classë¡œ ì‘ì„±í•˜ì—¬ ë´…ì‹œë‹¤.

> ğŸ” ì°¸ê³ ìë£Œ<br>
UML â†’ JAVA : https://www.nextree.co.kr/p6753/

<details><summary>ğŸ§</summary>
<p>

```python
# probelm_1_2_1.py
student_id_holder = 0

def create_id():
    global student_id_holder
    student_id_holder += 1
    new_id = "STD" + '0' * (4-len(str(student_id_holder))) + str(student_id_holder)
    return new_id

class Student:
    def __init__(self, id, departmentId):
        self.studentId = id
        self.grade = {} # courseId : grade
        self.major = departmentId
        self.enrolled = [] # id of course

    def enroll(self, courseId):
        self.enrolled.append(courseId)

class Department:
    def __init__(self, id):
        self.departmentId = id
        self.offering = [] # course id

    def offer(self, courseId):
        self.offering.append(courseId)

class Professor:
    def __init__(self, id):
        self.professorId = id
        self.teaching = [] # course id

    def teach(self, courseId):
        self.teaching.append(courseId)

class Course:
    def __init__(self, id, professorId, departmentId, TA):
        self.courseId = id
        self.professor = professorId
        self.department = departmentId
        self.TA = TA # student ID
        self.students = [] # student ID

    def enroll(self, studentId):
        self.students.append(studentId)

    def __str__(self):
        return (f"========== Course Info ==========\n"
                f"Course : {self.courseId},\n"
                f"Professor : {self.professor},\n"
                f"Department : {self.department},\n"
                f"TA : {self.TA},\n"
                f"Students : {self.students}")
```

```python
# problem_1_2_2.py
import problem_1_2_1 as P

dept = P.Department('D1')
students = [P.Student(P.create_id(), dept.departmentId) for i in range(10)]
prof_1 = P.Professor('P1')

database_2021_fall = P.Course('DB-2021-F',
                              prof_1.professorId,
                              dept.departmentId,
                              students[9].studentId)

for i, student in enumerate(students[:5]):
    database_2021_fall.enroll(student.studentId)
    student.enroll(database_2021_fall.courseId)

print(database_2021_fall)
# ========== Course Info ==========
# Course : DB-2021-F,
# Professor : P1,
# Department : D1,
# TA : STD0010,
# Students : ['STD0001', 'STD0002', 'STD0003', 'STD0004', 'STD0005']
```
</p>
</details>

### (ì‹¤ìŠµ 1-4) ì£¼ì–´ì§„ Class Diagramì„ Relation Modelë¡œ ì‘ì„±í•˜ì—¬ ë³´ì.
> ğŸ‘€ (ì‹¤ìŠµ 1-2)ì—ì„œ ì‘ì„±í•œ Class Diagramì„ SQLì˜ Create Table êµ¬ë¬¸ì„ í†µí•´ì„œ Relation Modelë¡œ ë‚˜íƒ€ë‚´ì–´ ë³´ì.

<details><summary>ğŸ§</summary>
<p>

#### ì´ˆì•ˆ
![Untitled](./assets/01-4-3.png)

- í…Œì´ë¸” ìƒì„±
    ```sql
    CREATE TABLE Department(
    departmentId TEXT
    );
    
    CREATE TABLE Student(
    studentId TEXT,
    major TEXT REFERENCES Department(departmentId)
    );
    
    CREATE TABLE Professor(
    professorId TEXT
    );
    
    CREATE TABLE Course(
    courseId TEXT
    );


    ALTER TABLE Student ADD enrolled TEXT REFERENCES Course(courseId);
    ALTER TABLE Student ADD grade TEXT;
    ALTER TABLE Department ADD offering TEXT REFERENCES Course(courseId);
    ALTER TABLE Professor ADD teaching TEXT REFERENCES Course(courseId);
    ALTER TABLE Course ADD professor TEXT REFERENCES Professor(professorId);
    ALTER TABLE Course ADD department TEXT REFERENCES Department(studentId);
    ALTER TABLE Course ADD TA TEXT REFERENCES Student(studentId);
    ALTER TABLE Course ADD students TEXT REFERENCES Student(studentId);
    ```
- ë°ì´í„° ì‚½ì…
    ```sql
    INSERT INTO Student VALUES ('S001', 'CS', 'DB-2021-Fall', 'A');
    INSERT INTO Student VALUES ('S002', 'CS', 'DB-2021-Fall', 'A+');
    INSERT INTO Student VALUES ('S003', 'CS', 'DB-2021-Fall', 'B');
    INSERT INTO Student VALUES ('S004', 'CS', 'DB-2021-Fall', 'C');
    INSERT INTO Student VALUES ('S005', 'CS', 'DB-2021-Fall', 'B+');
    INSERT INTO Student VALUES ('S006', 'CS', 'DB-2021-Fall', 'F');
    INSERT INTO Student VALUES ('S001', 'CS', 'AI-2021-Fall', 'D');
    INSERT INTO Student VALUES ('S002', 'CS', 'AI-2021-Fall', 'A+');
    INSERT INTO Student VALUES ('S007', 'Math', 'AI-2021-Fall', 'B+');
    INSERT INTO Student VALUES ('S008', 'Math', 'AI-2021-Fall', 'A+');
    
    INSERT INTO Department VALUES ('CS', 'DB-2021-Fall');
    INSERT INTO Department VALUES ('CS', 'AI-2021-Fall');
    
    INSERT INTO Professor VALUES ('PROF001', 'DB-2021-Fall');
    INSERT INTO Professor VALUES ('PROF002', 'AI-2021-Fall');
    
    INSERT INTO Course VALUES ('DB-2021-Fall', 'PROF001', 'CS', 'S001', 'S001');
    INSERT INTO Course VALUES ('DB-2021-Fall', 'PROF001', 'CS', 'S001', 'S002');
    INSERT INTO Course VALUES ('DB-2021-Fall', 'PROF001', 'CS', 'S001', 'S003');
    INSERT INTO Course VALUES ('DB-2021-Fall', 'PROF001', 'CS', 'S001', 'S004');
    INSERT INTO Course VALUES ('DB-2021-Fall', 'PROF001', 'CS', 'S001', 'S005');
    INSERT INTO Course VALUES ('DB-2021-Fall', 'PROF001', 'CS', 'S001', 'S006');
    INSERT INTO Course VALUES ('AI-2021-Fall', 'PROF002', 'CS', 'S001', 'S001');
    INSERT INTO Course VALUES ('AI-2021-Fall', 'PROF002', 'CS', 'S001', 'S002');
    INSERT INTO Course VALUES ('AI-2021-Fall', 'PROF002', 'CS', 'S001', 'S007');
    INSERT INTO Course VALUES ('AI-2021-Fall', 'PROF002', 'CS', 'S001', 'S008');
    ```

- **ë¬¸ì œì **
    - í…Œì´ë¸”ë‚´ì˜ ë°ì´í„° ì¤‘ë³µì´ ë§ë‹¤.
        - Student í…Œì´ë¸”ì—ì„œ (studentId, major)ê°€ (enrolled, grade)ì´ ì¦ê°€í•¨ì— ë”°ë¼ ë°˜ë³µë˜ê³  ìˆë‹¤.
        - Course í…Œì´ë¸”ì—ì„œ (courseId, professor, department, TA)ê°€ (student)ê°€ ì¦ê°€í•¨ì— ë”°ë¼ ë°˜ë³µë˜ê³  ìˆë‹¤.
        - ì´ëŸ° ë¬¸ì œëŠ” ë°ì´í„° íƒ€ì…ì´ collection typeì¸ ê²½ìš°, ì´ë¥¼ í‘œí˜„í•˜ê¸° ìœ„í•´ì„œëŠ” collection typeì˜ í•œ ì›ì†Œë§ˆë‹¤ í•˜ë‚˜ì˜ rowì„ ìƒì„±í•´ì•¼í•˜ëŠ” ê²ƒì—ì„œ ê¸°ì¸í•œë‹¤.

#### ê°œì„ 1 - ì¤‘ë³µì„ ì¼ìœ¼í‚¤ëŠ” collection typeì„ ëª¨ë‘ ë¶„ë¦¬í•œë‹¤
![Untitled](./assets/01-4-4.png)

- í…Œì´ë¸” ìƒì„±
    ```sql
    CREATE TABLE Department(
    departmentId TEXT PRIMARY KEY
    );
    
    CREATE TABLE Student(
    studentId TEXT PRIMARY KEY,
    major TEXT REFERENCES Department(departmentId)
    );
    
    CREATE TABLE Professor(
    professorId TEXT PRIMARY KEY
    );
    
    CREATE TABLE Course(
    courseId TEXT PRIMARY KEY
    );
    
    CREATE TABLE Grade(
    studentId TEXT,
    courseId TEXT,
    grade TEXT,
    FOREIGN KEY(studentId) REFERENCES Student(studentId),
    FOREIGN KEY(courseId) REFERENCES Course(courseId),
    PRIMARY KEY(studentId, courseId)
    );
    
    CREATE TABLE Enrollment(
    studentId TEXT,
    courseId TEXT,
    FOREIGN KEY(studentId) REFERENCES Student(studentId),
    FOREIGN KEY(courseId) REFERENCES Course(courseId),
    PRIMARY KEY(studentId, courseId)
    );
    
    CREATE TABLE Offering(
    departmentId TEXT,
    courseId TEXT,
    FOREIGN KEY(departmentId) REFERENCES Department(departmentId),
    FOREIGN KEY(courseId) REFERENCES Course(courseId),
    PRIMARY KEY(departmentId, courseId)
    );
    
    CREATE TABLE Teaching(
    professorId TEXT,
    courseId TEXT,
    FOREIGN KEY(professorId) REFERENCES Professor(professorId),
    FOREIGN KEY(courseId) REFERENCES Course(courseId),
    PRIMARY KEY(professorId, courseId)
    );
    ```
- ë°ì´í„° ì‚½ì…
    ```sql
    INSERT INTO Department VALUES ('CS');
    INSERT INTO Department VALUES ('Math');
    
    INSERT INTO Student VALUES ('S001', 'CS');
    INSERT INTO Student VALUES ('S002', 'CS');
    INSERT INTO Student VALUES ('S003', 'CS');
    INSERT INTO Student VALUES ('S004', 'CS');
    INSERT INTO Student VALUES ('S005', 'CS');
    INSERT INTO Student VALUES ('S006', 'CS');
    INSERT INTO Student VALUES ('S007', 'Math');
    INSERT INTO Student VALUES ('S008', 'Math');
    
    INSERT INTO Professor VALUES ('PROF001');
    INSERT INTO Professor VALUES ('PROF002');
    
    INSERT INTO Course VALUES ('DB-2021-Fall');
    INSERT INTO Course VALUES ('AI-2021-Fall');
    
    INSERT INTO Grade VALUES ('S001', 'DB-2021-Fall', 'A');
    INSERT INTO Grade VALUES ('S002', 'DB-2021-Fall', 'A+');
    INSERT INTO Grade VALUES ('S003', 'DB-2021-Fall', 'B');
    INSERT INTO Grade VALUES ('S004', 'DB-2021-Fall', 'C');
    INSERT INTO Grade VALUES ('S005', 'DB-2021-Fall', 'B+');
    INSERT INTO Grade VALUES ('S006', 'DB-2021-Fall', 'F');
    INSERT INTO Grade VALUES ('S001', 'AI-2021-Fall', 'D');
    INSERT INTO Grade VALUES ('S002', 'AI-2021-Fall', 'A+');
    INSERT INTO Grade VALUES ('S007', 'AI-2021-Fall', 'B+');
    INSERT INTO Grade VALUES ('S008', 'AI-2021-Fall', 'A+');
    
    INSERT INTO Enrollment VALUES ('S001', 'DB-2021-Fall');
    INSERT INTO Enrollment VALUES ('S002', 'DB-2021-Fall');
    INSERT INTO Enrollment VALUES ('S003', 'DB-2021-Fall');
    INSERT INTO Enrollment VALUES ('S004', 'DB-2021-Fall');
    INSERT INTO Enrollment VALUES ('S005', 'DB-2021-Fall');
    INSERT INTO Enrollment VALUES ('S006', 'DB-2021-Fall');
    INSERT INTO Enrollment VALUES ('S001', 'AI-2021-Fall');
    INSERT INTO Enrollment VALUES ('S002', 'AI-2021-Fall');
    INSERT INTO Enrollment VALUES ('S007', 'AI-2021-Fall');
    INSERT INTO Enrollment VALUES ('S008', 'AI-2021-Fall');
    
    INSERT INTO Offering VALUES ('CS', 'DB-2021-Fall');
    INSERT INTO Offering VALUES ('CS', 'AI-2021-Fall');
    
    INSERT INTO Teaching VALUES ('PROF001', 'DB-2021-Fall');
    INSERT INTO Teaching VALUES ('PROF002', 'AI-2021-Fall');
    ```

- **ë¬¸ì œì **
    - í…Œì´ë¸”ê°„ì˜ ë°ì´í„° ì¤‘ë³µì´ ë§ë‹¤.
    - í…Œì´ë¸”ì˜ ìˆ˜ê°€ ê³¼ë„í•˜ê²Œ ë§ë‹¤.
    - ë„ˆë¬´ ë§ì€ decompositionì´ ì¼ì–´ë‚¬ë‹¤.
    - ê°œì„ ì•ˆ : classì˜ ìˆ˜ë¥¼ ì¤„ì´ê³  relationshipì„ ê°œì„ í•œë‹¤.
        - Offering(departmentId, courseId) + Teaching(professorId, courseId) + Course(courseId)ëŠ” (departmentId, courseId, professorId, TA)ë¡œ í‘œí˜„ì´ ê°€ëŠ¥í•˜ë‹¤.
        - Grade(courseId, studentId, grade) + Enrollment(courseId, studentId)ëŠ” (courseId, studentId, grade)ë¡œ í‘œí˜„ ê°€ëŠ¥í•˜ë‹¤.

#### ê°œì„ 2 - relationshipì„ ê°œì„ í•˜ê³  ë¶ˆí•„ìš”í•œ ì¤‘ë³µì„ ì œê±°í•œë‹¤
![Untitled](./assets/01-4-5.png)

- í…Œì´ë¸” ìƒì„±
    ```sql
    CREATE table Department(
    departmentId TEXT PRIMARY KEY
    );
    
    CREATE TABLE Student(
    studentId TEXT PRIMARY KEY,
    major TEXT REFERENCES Department(departmentId)
    );
    
    CREATE TABLE Professor(
    professorId TEXT PRIMARY KEY
    );
    
    CREATE TABLE Course(
    courseId TEXT PRIMARY KEY,
    TA TEXT REFERENCES Student(studentId),
    department TEXT REFERENCES Department(departmentId),
    professor TEXT REFERENCES Professor(professorId)
    );
    
    CREATE TABLE Enrollment(
    studentId TEXT,
    courseId TEXT,
    grade TEXT,
    FOREIGN KEY(studentId) REFERENCES Student(studentId),
    FOREIGN KEY(courseId) REFERENCES Course(courseId),
    PRIMARY KEY(studentId, courseId)
    );
    ```
- ë°ì´í„° ì‚½ì…
    ```sql
    INSERT INTO Department VALUES ('CS');
    INSERT INTO Department VALUES ('Math');
    
    INSERT INTO Student VALUES ('S001', 'CS');
    INSERT INTO Student VALUES ('S002', 'CS');
    INSERT INTO Student VALUES ('S003', 'CS');
    INSERT INTO Student VALUES ('S004', 'CS');
    INSERT INTO Student VALUES ('S005', 'CS');
    INSERT INTO Student VALUES ('S006', 'CS');
    INSERT INTO Student VALUES ('S007', 'Math');
    INSERT INTO Student VALUES ('S008', 'Math');
    
    INSERT INTO Professor VALUES ('PROF001');
    INSERT INTO Professor VALUES ('PROF002');
    
    INSERT INTO Course VALUES ('DB-2021-Fall', 'S001', 'CS', 'PROF001');
    INSERT INTO Course VALUES ('AI-2021-Fall', 'S001', 'CS', 'PRPR002');
    
    INSERT INTO Enrollment VALUES ('S001', 'DB-2021-Fall', 'A');
    INSERT INTO Enrollment VALUES ('S002', 'DB-2021-Fall', 'A+');
    INSERT INTO Enrollment VALUES ('S003', 'DB-2021-Fall', 'B');
    INSERT INTO Enrollment VALUES ('S004', 'DB-2021-Fall', 'C');
    INSERT INTO Enrollment VALUES ('S005', 'DB-2021-Fall', 'B+');
    INSERT INTO Enrollment VALUES ('S006', 'DB-2021-Fall', 'F');
    INSERT INTO Enrollment VALUES ('S001', 'AI-2021-Fall', 'D');
    INSERT INTO Enrollment VALUES ('S002', 'AI-2021-Fall', 'A+');
    INSERT INTO Enrollment VALUES ('S007', 'AI-2021-Fall', 'B+');
    INSERT INTO Enrollment VALUES ('S008', 'AI-2021-Fall', 'A+');
    ```

</p>
</details>

### Ref
- UML Class Diagram Examples : [https://www.edrawsoft.com/example-uml-class-diagram.html](https://www.edrawsoft.com/example-uml-class-diagram.html)
- A First Course in Database Systems, by J.D. Ullman and Jennifer Widom, 3rd edition, Pearson International Edition

<br>
<br>
<br>